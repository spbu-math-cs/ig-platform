# Инструкция по сборке фронтенда

Установите npm через ваш любимый пакетный менеджер:
```bash
sudo apt install npm
```
(nodejs должен автоматически установиться вместе с npm как зависимость)

> Когда я попробовал сделать это в docker через образ ubuntu:20.04, то apt
> установил nodejs 12.22.xx. Это слишком старая версия, чтобы работать с
> next-js. В alpine ставится нормальный nodejs 20.xx.xx, у меня локально стоит 
> 18.13.0, причем почти на той же ubuntu. В общем, проверяйте версию nodejs
> после установки. Меньше 16.xx.xx не должно быть точно.
 
Установите зависимости проекта:
```bash
cd tic-tac-toe-web # если вы в корне репозитория
npm install
```

Запустить dev-сервер:
```bash
npm run dev
```

Скомпилировать production-build:
```bash
npm run build
```

Запустить production-сервер (требуется предварительно собрать проект):
```bash
npm run start
```

В next-js есть много других интересных возможностей. Например, можно собрать
статический сайт. Подробнее в [документации next-js](https://nextjs.org/docs/pages/building-your-application/deploying#nodejs-server).
Пока непонятно, нужно ли нам это, но было бы неплохо в будущем
разобраться. Думаю, на ближайшие полгода будет достаточно production-сервера
next-js в докере.
